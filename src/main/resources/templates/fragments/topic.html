<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>


<!--/*@thymesVar id="topic" type="com.inova.javacro.kafka.core.Topic"*/-->
<!--/*@thymesVar id="partitionSizes" type="java.util.Map<java.lang.String, java.lang.Long>"*/-->
<div th:fragment="topic(topic, partitionSizes)" class="topic" th:style="|border-color: ${topic.topicColorHex}|">
    <button class="delete-topic pull-right" th:attr="data-topic-name=${topic.topicName}">X</button>

    <h2 th:text="${topic.topicName}"></h2>
    <!--<p> partitions: <span th:text="${topic.getPartitionCount()}"></span></p>-->
    <!--<div th:each="i : ${#numbers.sequence(1,topic.partitionCount)}"-->
         <!--class="partition" th:id="${topic.topicName + '_' + (i - 1)}"-->
         <!--th:style="|background-color: ${topic.topicColorHex}|"-->
         <!--th:text="${ partitionSizes.get(topic.topicName + '_' + (i - 1))}"-->
    <!--&gt;-->

        <div class="progress partition" th:each="i : ${#numbers.sequence(1,topic.partitionCount)}" th:id="${topic.topicName + '_' + (i - 1)}"
             th:with="ps=${partitionSizes.get(topic.topicName + '_' + (i - 1))}">

            <div class="progress-bar first" th:style="|background-color: ${topic.topicColorHex}; width: ${ 100 * ps/10000000 + '%'}|">
                <span class="sr-only">35% Complete (success)</span>
            </div>

            <div class="progress-bar second" th:style="|background-color: ${topic.topicColorHex}; width: ${100 - 100 * ps/10000000 + '%'};opacity:${0.6}|">
                <span class="sr-only">35% Complete (success)</span>
            </div>
            <div class="partition-size-info" th:text="${ps}"></div>


        </div>



</div>

</body>
</html>